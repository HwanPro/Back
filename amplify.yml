version: 1
frontend:
  phases:
    preBuild:
      commands:
        - sudo yum install -y java-17-amazon-corretto
        - export JAVA_HOME=/usr/lib/jvm/java-17-amazon-corretto
        - export PATH=$JAVA_HOME/bin:$PATH
        - chmod +x mvnw
    build:
      commands:
        - ./mvnw clean package
  artifacts:
    baseDirectory: target
    files:
      - '**/*.jar'
  cache:
    paths:
      - ~/.m2/repository/**/*
